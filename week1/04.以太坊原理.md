### **什么是以太坊？**
最大的区块链平台，支持在上面部署智能合约，并且可以开发对应的DApp

### **以太坊的概念是由谁首次提出的，并在何时？**
Vitalik Buterin，2013

### **以太坊的首个公开发布是在什么时候，哪里进行的？**
2014 年 1 月，以太坊在迈阿密举行的北美比特币会议上首次对外公开发布。

### **"The DAO"是什么，以及它如何影响以太坊？**
The DAO，即 Decentralized Autonomous Organization（分布式自治组织），是一个以太坊上的 DApp。

发现了一个关于“递归调用 splitDAO 函数”的软件漏洞，攻击者利用这个漏洞转走了大量的以太币，以太坊不得不进行一次硬分叉升级，最终导致以太坊分成两条链：一条是原链 ETC（以太坊经典），另一条是新分叉出的 ETH（现以太坊）。

### **以太坊进行硬分叉的目的是什么？**
解决`The DAO`事件的巨大漏洞。

### **什么是企业以太坊联盟（EEA），它成立于何时？**
2017 年 3 月，包括 ConsenSys、CME 集团、康奈尔大学研究组、丰田研究院、三星 SDS、微软、英特尔、摩根大通、Cooley LLP、默克 KGaA、DTCC、德勤、埃森哲、Banco Santander 在内的多家区块链初创公司、研究小组和财富 500 强公司共同成立了企业以太坊联盟（EEA），联盟成员到 2017 年 7 月已超过 150 个，包括万事达卡、思科系统公司、俄罗斯联邦储蓄银行和丰业银行。

### **以太坊 2.0 与以太坊 1.0 有何不同？**
共识算法从PoW转向PoS，提高了效率和安全性

### **Metamask 插件的主要功能是什么？**
数字钱包，以浏览器插件的形式存在，允许用户通过图形界面进行交易、编写和部署合约，同时管理其以太坊钱包和账户。

### **在以太坊中，'gas'的概念是用来做什么的？**
Gas是以太坊用于计算合约部署和调用的花费的单位，作为矿工提供计算资源和维护以太坊网络的报酬。

### **什么是智能合约？**
一段代码，存储在以太坊上，能够在一定的条件下自动执行，适合业务逻辑固定，不会随意改变的场景。如果业务逻辑经常变化，高昂的部署费使得智能合约不再适用。

### **如何在以太坊上创建一个账户？**
用户可以通过安装 Metamask 等以太坊钱包软件并设置密码来创建一个账户。

账户创建过程中，用户将获得一组助记词，这组助记词是恢复账户的关键。

### **以太坊的挖矿机制是如何工作的？**
在以太坊1.0中，使用的还是和BTC一样的PoW机制，但是这种机制效率太差了。到了以太坊2.0的时候，已经过渡到了PoS机制，只有通过一定的资产抵押，才有资格成为矿工，获取到挖矿奖励。

### **描述以太坊交易的基本组成部分。**
1. 交易发送方的数字签名
2. 交易的接收方
3. 交易的数量
4. Gas Price和Gas Limit
5. 交易中附带的数据（Nonce）

### **什么是以太坊虚拟机（EVM）？**
类似于JVM，将智能合约编译后的结果，运行在EVM上。可以独立于外部系统运行代码，确保智能合约的透明和安全执行。

### **以太坊的区块结构包括哪些部分？**
区块头、交易列表、叔节点。

+ 区块头：包含了父区块的hash、叔区块的hash、状态树的根hash、交易树的根hash、收据树根哈希、随机数、时间戳等等
+ 交易列表：矿工打包的区块中的交易信息
+ 叔节点：指那些未能成为主链一部分但被主链区块引用的区块。每个主链中的区块最多可以引用两个叔区块。

### 以太坊数据层的主要功能是什么？
相当于这个系统的一个数据库。

以太坊通过LevelDB，数据以Key-Value的形式存储，并采用 Merkle Patricia Tree（MPT）作为数据结构来组织和管理。每个区块构成区块链的基本单位，包含了一系列交易列表。这些交易的执行将改变账户状态，从而更新以太坊的全局状态。

### 以太坊中有哪两种类型的账户？
外部账户和合约账户。

+ 外部账户：由用户自主创建，可以通过私钥签名向其他账户发送消息，或者调用合约账户提供的方法。
+ 合约账户：由合约代码控制，不能自动发起交易，只能通过外部账户获取其他合约账户的调用被动发起。

### 以太坊如何防止外部账户的重复支付问题？
**Nonce**。每一个交易都会携带上Nonce，代表当前账户的总交易数，每一笔交易都会校验这个值，一旦当前的交易已经触发过了，相同Nonce的交易就不会被认可。一旦这个值被篡改，那么加密后的数字签名也会失效，这就保证了账户无法重复支付。

### 描述以太坊的合约账户如何被创建？
在部署智能合约到以太坊上的时候创建。合约账户不由私钥控制，而是收到合约部署者控制，一旦合约被销毁，合约账户上的所以状态也会被清除。合约账户可以编写特定函数来实现所有权的转移或继承。

### 以太坊中交易的两大类别是什么？
消息通信和合约创建。

这两种类型的交易都是由外部账户发起并提交到以太坊网络，然后通过网络传输，并最终记录在以太坊区块链上。

### 以太坊是如何实现交易签名和验证的？
根据EIP-155方案实现。该方案设置了会在交易上设置r、s、v三个值，r和s的初始值都是0，v代表了当前交易部署的链，这三个值都会影响最终的hash，保证了交易无法在其他链上被重复执行。

### 以太坊区块的封印（Seal）过程包括哪些关键步骤？
+ 以太坊区块的封印过程首先包括创建一个完整的新区块，这包括填充区块头的部分属性、编排交易列表、添加 uncle 区块等。
+ 封印阶段涉及计算难度值、随机数和混合哈希值，这一过程确保了区块的安全性。

### 以太坊如何处理网络中同时产生的多个区块？
由于以太坊的区块生成速度非常快，经常会出现多个区块同时被打包到区块链中的情况，这种情况下一般以从根节点开始，最长的，且总体复杂度最高的路径作为主链

### 描述以太坊 P2P 网络中的 Kademlia（Kad）协议的基本工作原理？
1. KAD网络中的每一个节点都会通过Hash生成一个ID
2. 每两个节点之间，通过对节点Hash异或的方式获取到两个节点之间的距离，记录到路由表中
3. 每次寻找节点的时候，都会从路由表中获取距离最近的k个节点（k通常为3），然后再从这k个节点地递归寻找更近的节点，直到没有更近的节点为止

**回答要点**

+ Kademlia 协议是基于分布式哈希表的 P2P 网络协议，使用异或距离来测量节点间距离，并通过维护一个路由表来实现节点查找和资源定位。
+ 节点通过向距离目标节点最近的其他节点发送查询请求来查找目标节点或数据。

### 以太坊节点如何实现数据的存储和检索？
通过Kademlia(KAD)网络协议。

+ 存储：数据的key值会根据节点的hash决定，资源会存储在最近的k个节点上。
+ 检索：每次寻找节点的时候，都会从路由表中获取距离最近的k个节点（k通常为3），然后再从这k个节点地递归寻找更近的节点，直到没有更近的节点为止

